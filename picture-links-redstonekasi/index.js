(function(p,n,s,g){"use strict";const{Pressable:u}=n.findByProps("Button","Text","View"),v=n.findByName("ProfileBanner",!1),y=n.findByName("HeaderAvatar",!1),h=n.findByName("GuildIcon"),{openMediaModal:m}=n.findByName("MediaModal",!1),{hideActionSheet:S}=n.findByProps("hideActionSheet"),{getChannelId:B}=n.findByStoreName("SelectedChannelStore"),{getGuildId:I}=n.findByStoreName("SelectedGuildStore");function o(i,e){g.ReactNative.Image.getSize(i,function(t,r){S(),m({initialSources:[{uri:i,sourceURI:i,width:t,height:r,guildId:I(),channelId:B()}],initialIndex:0,originLayout:{width:0,height:0,x:e.pageX,y:e.pageY,resizeMode:"fill"}})})}const E=s.after("default",y,function(i,e){let[{user:t,style:r,guildId:a}]=i;const d=t.guildMemberAvatars?.[a]&&`https://cdn.discordapp.com/guilds/${a}/users/${t.id}/avatars/${t.guildMemberAvatars[a]}.png`,c=t?.getAvatarURL?.(!1,4096,!0);if(!c)return e;const M=typeof c=="number"?`https://cdn.discordapp.com/embed/avatars/${t.discriminator%5}.png`:c?.replace(".jpg",".png");return delete e.props.style,React.createElement(u,{onPress:function(l){let{nativeEvent:f}=l;return o(M,f)},onLongPress:function(l){let{nativeEvent:f}=l;return d&&o(d,f)},style:r},e)}),P=s.after("default",v,function(i,e){let[{bannerSource:t}]=i;if(typeof t?.uri!="string"||!e)return e;const r=t.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".jpg",".png");return React.createElement(u,{onPress:function(a){let{nativeEvent:d}=a;return o(r,d)}},e)}),R=s.after("render",h.prototype,function(i,e){if(this.props?.size!=="XLARGE")return;const t=this.props?.guild?.getIconURL?.(4096);return t?React.createElement(u,{onPress:function(r){let{nativeEvent:a}=r;return o(t,a)}},e):e});function A(){E(),P(),R()}return p.onUnload=A,p})({},vendetta.metro,vendetta.patcher,vendetta.metro.common);
